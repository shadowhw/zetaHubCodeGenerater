<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.heyexi.sample.mapper.MenuMapper">
    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.heyexi.sample.domain.entity.Menu">
        <id column="id" property="id" />
        <result column="title" property="title"/>
        <result column="url" property="url"/>
        <result column="perms" property="perms"/>
        <result column="parent_id" property="parentId"/>
        <result column="menu_type" property="menuType"/>
        <result column="sort_num" property="sortNum"/>
        <result column="icon" property="icon"/>
        <result column="create_time" property="createTime"/>
        <result column="create_by_id" property="createById"/>
        <result column="create_by_name" property="createByName"/>
        <result column="update_time" property="updateTime"/>
        <result column="update_by_id" property="updateById"/>
        <result column="update_by_name" property="updateByName"/>
        <result column="org_id" property="orgId"/>
        <result column="del_flag" property="delFlag"/>
        <result column="test_date" property="testDate"/>
        <result column="test_date_time" property="testDateTime"/>
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id,
        title,
        url,
        perms,
        parent_id,
        menu_type,
        sort_num,
        icon,
        create_time,
        create_by_id,
        create_by_name,
        update_time,
        update_by_id,
        update_by_name,
        org_id,
        del_flag,
        test_date,
        test_date_time
    </sql>

    <select id="selectPageList" resultType="com.heyexi.sample.domain.vo.MenuPageListVO">
        select t.* from iam_menu t
        <where>
            del_flag = 0
            <if test="cond.id != null">
                and id = #{cond.id}
            </if>
            <if test="cond.title != null and cond.title != ''">
                and title = #{cond.title}
            </if>
            <if test="cond.url != null and cond.url != ''">
                and url = #{cond.url}
            </if>
            <if test="cond.perms != null and cond.perms != ''">
                and perms = #{cond.perms}
            </if>
            <if test="cond.parentId != null">
                and parent_id = #{cond.parentId}
            </if>
            <if test="cond.menuType != null and cond.menuType != ''">
                and menu_type = #{cond.menuType}
            </if>
            <if test="cond.sortNum != null">
                and sort_num = #{cond.sortNum}
            </if>
            <if test="cond.icon != null and cond.icon != ''">
                and icon = #{cond.icon}
            </if>
            <if test="cond.createTime != null">
                and create_time = #{cond.createTime}
            </if>
            <if test="cond.createById != null">
                and create_by_id = #{cond.createById}
            </if>
            <if test="cond.createByName != null and cond.createByName != ''">
                and create_by_name = #{cond.createByName}
            </if>
            <if test="cond.updateTime != null">
                and update_time = #{cond.updateTime}
            </if>
            <if test="cond.updateById != null">
                and update_by_id = #{cond.updateById}
            </if>
            <if test="cond.updateByName != null and cond.updateByName != ''">
                and update_by_name = #{cond.updateByName}
            </if>
            <if test="cond.orgId != null">
                and org_id = #{cond.orgId}
            </if>
            <if test="cond.testDate != null">
                and test_date = #{cond.testDate}
            </if>
            <if test="cond.testDateTime != null">
                and test_date_time = #{cond.testDateTime}
            </if>
        </where>
    </select>

</mapper>